import{S,i as $,s as D,K as G,k as m,l as _,m as d,h as i,n as p,b as f,D as g,L as O,E as j,q as w,r as v,a as b,c as I,C as y,u as E,y as T,z,A,g as H,d as K,B as M}from"../chunks/index.c9e46909.js";function N(o){let e,n,t=o[8].message+"",a;return{c(){e=m("p"),n=w("Something went wrong: "),a=w(t)},l(r){e=_(r,"P",{});var c=d(e);n=v(c,"Something went wrong: "),a=v(c,t),c.forEach(i)},m(r,c){f(r,e,c),g(e,n),g(e,a)},p:j,d(r){r&&i(e)}}}function R(o){let e,n,t,a,r,c,u,h;return{c(){e=m("h2"),n=w(o[3]),t=b(),a=m("img"),c=b(),u=m("p"),h=w(o[0]),this.h()},l(s){e=_(s,"H2",{class:!0});var l=d(e);n=v(l,o[3]),l.forEach(i),t=I(s),a=_(s,"IMG",{class:!0,alt:!0,src:!0}),c=I(s),u=_(s,"P",{class:!0});var k=d(u);h=v(k,o[0]),k.forEach(i),this.h()},h(){p(e,"class","jokeTitle"),p(a,"class","jokeImage"),p(a,"alt",o[2]),y(a.src,r=o[1])||p(a,"src",r),p(u,"class","jokeDate")},m(s,l){f(s,e,l),g(e,n),f(s,t,l),f(s,a,l),f(s,c,l),f(s,u,l),g(u,h)},p(s,l){l&8&&E(n,s[3]),l&4&&p(a,"alt",s[2]),l&2&&!y(a.src,r=s[1])&&p(a,"src",r),l&1&&E(h,s[0])},d(s){s&&i(e),s&&i(t),s&&i(a),s&&i(c),s&&i(u)}}}function U(o){let e,n;return{c(){e=m("p"),n=w("...Loading")},l(t){e=_(t,"P",{});var a=d(e);n=v(a,"...Loading"),a.forEach(i)},m(t,a){f(t,e,a),g(e,n)},p:j,d(t){t&&i(e)}}}function V(o){let e,n,t={ctx:o,current:null,token:null,hasCatch:!0,pending:U,then:R,catch:N,value:7,error:8};return G(o[4],t),{c(){e=m("section"),n=m("div"),t.block.c(),this.h()},l(a){e=_(a,"SECTION",{id:!0});var r=d(e);n=_(r,"DIV",{class:!0});var c=d(n);t.block.l(c),c.forEach(i),r.forEach(i),this.h()},h(){p(n,"class","jokeBody"),p(e,"id","jokes")},m(a,r){f(a,e,r),g(e,n),t.block.m(n,t.anchor=null),t.mount=()=>n,t.anchor=null},p(a,[r]){o=a,O(t,o,r)},i:j,o:j,d(a){a&&i(e),t.block.d(),t.token=null,t=null}}}async function F(o){const e=new URLSearchParams;return o&&e.append("email",o),fetch("https://fwd.innopolis.app/api/hw2?"+e.toString()).then(n=>n.json())}async function Q(o){return await fetch(" https://getxkcd.vercel.app/api/comic?num="+o).then(n=>n.json())}function W(o,e,n){let t,a,r,c;async function u(){const l=await F("a.kopeikina@innopolis.university"),k=await Q(l);h(k)}const h=l=>{const{alt:k,title:L,img:P,year:C,month:J,day:q}=l,B=new Date(parseInt(C),parseInt(J)+1,parseInt(q));n(1,a=P),n(2,r=k),n(3,c=L),n(0,t=B.toLocaleDateString())};let s=u();return[t,a,r,c,s]}class X extends S{constructor(e){super(),$(this,e,W,V,D,{})}}function Y(o){let e,n;return e=new X({}),{c(){T(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,a){A(e,t,a),n=!0},p:j,i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}class x extends S{constructor(e){super(),$(this,e,null,Y,D,{})}}export{x as default};
