import{S,i as $,s as L,K as G,k as _,l as m,m as d,h as i,n as p,b as f,D as g,L as O,E as v,q as j,r as w,a as y,c as b,C as E,u as I,y as z,z as A,A as H,g as K,d as M,B as N}from"../chunks/index.c9e46909.js";function R(o){let e,n,t=o[8].message+"",a;return{c(){e=_("p"),n=j("Something went wrong: "),a=j(t)},l(l){e=m(l,"P",{});var c=d(e);n=w(c,"Something went wrong: "),a=w(c,t),c.forEach(i)},m(l,c){f(l,e,c),g(e,n),g(e,a)},p:v,d(l){l&&i(e)}}}function T(o){let e,n,t,a,l,c,u,h;return{c(){e=_("h2"),n=j(o[3]),t=y(),a=_("img"),c=y(),u=_("p"),h=j(o[0]),this.h()},l(s){e=m(s,"H2",{});var r=d(e);n=w(r,o[3]),r.forEach(i),t=b(s),a=m(s,"IMG",{alt:!0,src:!0,class:!0}),c=b(s),u=m(s,"P",{});var k=d(u);h=w(k,o[0]),k.forEach(i),this.h()},h(){p(a,"alt",o[2]),E(a.src,l=o[1])||p(a,"src",l),p(a,"class","svelte-oatkly")},m(s,r){f(s,e,r),g(e,n),f(s,t,r),f(s,a,r),f(s,c,r),f(s,u,r),g(u,h)},p(s,r){r&8&&I(n,s[3]),r&4&&p(a,"alt",s[2]),r&2&&!E(a.src,l=s[1])&&p(a,"src",l),r&1&&I(h,s[0])},d(s){s&&i(e),s&&i(t),s&&i(a),s&&i(c),s&&i(u)}}}function U(o){let e,n;return{c(){e=_("p"),n=j("...Loading")},l(t){e=m(t,"P",{});var a=d(e);n=w(a,"...Loading"),a.forEach(i)},m(t,a){f(t,e,a),g(e,n)},p:v,d(t){t&&i(e)}}}function V(o){let e,n,t={ctx:o,current:null,token:null,hasCatch:!0,pending:U,then:T,catch:R,value:7,error:8};return G(o[4],t),{c(){e=_("section"),n=_("div"),t.block.c(),this.h()},l(a){e=m(a,"SECTION",{id:!0,class:!0});var l=d(e);n=m(l,"DIV",{class:!0});var c=d(n);t.block.l(c),c.forEach(i),l.forEach(i),this.h()},h(){p(n,"class","jokeBody"),p(e,"id","jokes"),p(e,"class","svelte-oatkly")},m(a,l){f(a,e,l),g(e,n),t.block.m(n,t.anchor=null),t.mount=()=>n,t.anchor=null},p(a,[l]){o=a,O(t,o,l)},i:v,o:v,d(a){a&&i(e),t.block.d(),t.token=null,t=null}}}async function F(o){const e=new URLSearchParams;return o&&e.append("email",o),fetch("https://fwd.innopolis.app/api/hw2?"+e.toString()).then(n=>n.json())}async function Q(o){return await fetch(" https://getxkcd.vercel.app/api/comic?num="+o).then(n=>n.json())}function W(o,e,n){let t,a,l,c;async function u(){const r=await F("a.kopeikina@innopolis.university"),k=await Q(r);h(k)}const h=r=>{const{alt:k,title:P,img:C,year:D,month:J,day:q}=r,B=new Date(parseInt(D),parseInt(J)+1,parseInt(q));n(1,a=C),n(2,l=k),n(3,c=P),n(0,t=B.toLocaleDateString())};let s=u();return[t,a,l,c,s]}class X extends S{constructor(e){super(),$(this,e,W,V,L,{})}}function Y(o){let e,n;return e=new X({}),{c(){z(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){H(e,t,a),n=!0},p:v,i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){M(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}class x extends S{constructor(e){super(),$(this,e,null,Y,L,{})}}export{x as default};
